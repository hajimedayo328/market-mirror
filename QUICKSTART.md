# ğŸš€ Market Mirror - ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰

## ğŸ“‹ ç¾åœ¨ã®çŠ¶æ…‹

âœ… **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: å®Œå…¨æ§‹ç¯‰æ¸ˆã¿ï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†å¯¾å¿œï¼‰  
âœ… **UI**: å®Œæˆï¼ˆãƒˆãƒƒãƒ—ã€ãƒ¬ãƒãƒ¼ãƒˆã€PDCAç”»é¢ï¼‰  
âœ… **ãƒ¢ãƒƒã‚¯AI**: å®Ÿè£…æ¸ˆã¿ï¼ˆé–‹ç™ºç”¨ï¼‰  
â³ **æœ¬ç•ªAI**: APIã‚­ãƒ¼å¾…ã¡

---

## ğŸ¯ ã™ãã«è©¦ã›ã‚‹ã“ã¨

### 1. ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ä½œæˆ

```bash
# Next.jsã‚¢ãƒ—ãƒªã‚’èµ·å‹•
cd market-mirror
npm run dev
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:3000 ã‚’é–‹ã

1. ãƒ‡ãƒƒã‚­ã‚’é¸æŠï¼ˆStandard_Japan / Inbound_Tourist / Biz_Techï¼‰
2. ã‚¿ã‚¤ãƒˆãƒ«ã¨èª¬æ˜ã‚’å…¥åŠ›
3. ã€ŒğŸš€ PDCAã‚’é–‹å§‹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯

### 2. ãƒ¬ãƒãƒ¼ãƒˆã‚’ç¢ºèª

ã‚¢ã‚¤ãƒ‡ã‚¢ä½œæˆå¾Œã€è‡ªå‹•çš„ã«ãƒ¬ãƒãƒ¼ãƒˆãƒšãƒ¼ã‚¸ã«ç§»å‹•

- ãƒšãƒ«ã‚½ãƒŠ10äººã®ä¸€è¦§è¡¨ç¤º
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±
- ã€ŒğŸ”„ PDCAå®Ÿè¡Œã€ãƒœã‚¿ãƒ³

### 3. PDCAã‚µã‚¤ã‚¯ãƒ«ã‚’å®Ÿè¡Œ

ã€ŒğŸ”„ PDCAå®Ÿè¡Œã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

1. **å®Ÿè¡Œãƒ¢ãƒ¼ãƒ‰ã‚’é¸æŠ**
   - ğŸ¤– è‡ªå‹•ãƒ¢ãƒ¼ãƒ‰: ã™ã¹ã¦è‡ªå‹•å®Ÿè¡Œ
   - ğŸ‘¤ æ‰‹å‹•ãƒ¢ãƒ¼ãƒ‰: 1ã‚µã‚¤ã‚¯ãƒ«ãšã¤ç¢ºèª

2. **å®Ÿè¡Œå›æ•°ã‚’é¸æŠ**
   - 3å› / 5å› / 10å› / ã‚«ã‚¹ã‚¿ãƒ 

3. **ã€Œâ–¶ï¸ PDCAå®Ÿè¡Œé–‹å§‹ã€** ã‚’ã‚¯ãƒªãƒƒã‚¯

4. å®Ÿè¡Œç”»é¢ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€²æ—ã‚’ç¢ºèªï¼ˆãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¢ï¼‰

5. å®Œäº†å¾Œã€çµæœãƒšãƒ¼ã‚¸ã§æ”¹å–„å±¥æ­´ã‚’ç¢ºèª

---

## ğŸ¨ å®Œæˆã—ã¦ã„ã‚‹æ©Ÿèƒ½

### âœ… å®Ÿè£…æ¸ˆã¿

1. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**
   - âœ… Prisma Schemaï¼ˆIdeas, Personas, Reviewsï¼‰
   - âœ… ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
   - âœ… ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ï¼ˆ30äººã®ãƒšãƒ«ã‚½ãƒŠï¼‰
   - âœ… ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ï¼ˆè‡ªå·±å‚ç…§ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰

2. **UI**
   - âœ… ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ï¼ˆã‚¢ã‚¤ãƒ‡ã‚¢å…¥åŠ›ï¼‰
   - âœ… ãƒ¬ãƒãƒ¼ãƒˆãƒšãƒ¼ã‚¸ï¼ˆè©•ä¾¡è¡¨ç¤ºï¼‰
   - âœ… PDCAè¨­å®šãƒšãƒ¼ã‚¸
   - âœ… PDCAå®Ÿè¡Œç”»é¢ï¼ˆé€²æ—è¡¨ç¤ºï¼‰
   - âœ… PDCAçµæœãƒšãƒ¼ã‚¸

3. **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**
   - âœ… Server Actionsï¼ˆCRUDæ“ä½œï¼‰
   - âœ… ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†
   - âœ… ãƒ¢ãƒƒã‚¯AIæ©Ÿèƒ½
   - âœ… PDCAè‡ªå‹•å®Ÿè¡Œãƒ­ã‚¸ãƒƒã‚¯

### â³ å®Ÿè£…å¾…ã¡ï¼ˆAPIã‚­ãƒ¼å¿…è¦ï¼‰

1. **AIçµ±åˆ**
   - â³ OpenAI/Claude/Gemini APIé€£æº
   - â³ å®ŸAIã«ã‚ˆã‚‹è©•ä¾¡ç”Ÿæˆ
   - â³ å®ŸAIã«ã‚ˆã‚‹æ”¹å–„æ¡ˆç”Ÿæˆ

2. **å‡ºåŠ›æ©Ÿèƒ½**
   - â³ ã‚¤ãƒ³ãƒ•ã‚©ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ç”Ÿæˆ
   - â³ PowerPointã‚¹ãƒ©ã‚¤ãƒ‰ç”Ÿæˆ
   - â³ PDFå‡ºåŠ›

3. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ©Ÿèƒ½**
   - â³ WebSocket/SSE for é€²æ—æ›´æ–°

---

## ğŸ”§ é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ vs æœ¬ç•ªãƒ¢ãƒ¼ãƒ‰

### é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ï¼ˆç¾åœ¨ï¼‰

```typescript
// market-mirror/app/actions-ai.ts
const USE_MOCK_AI = true; // â† ãƒ¢ãƒƒã‚¯AIã‚’ä½¿ç”¨
```

**ç‰¹å¾´:**
- âœ… APIã‚­ãƒ¼ä¸è¦
- âœ… å³åº§ã«ãƒ†ã‚¹ãƒˆå¯èƒ½
- âœ… ãƒ©ãƒ³ãƒ€ãƒ ãªã‚¹ã‚³ã‚¢ç”Ÿæˆï¼ˆ6-9ç‚¹ï¼‰
- âœ… å®šå‹æ–‡ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

### æœ¬ç•ªãƒ¢ãƒ¼ãƒ‰ï¼ˆAPIã‚­ãƒ¼å–å¾—å¾Œï¼‰

```typescript
// market-mirror/app/actions-ai.ts
const USE_MOCK_AI = false; // â† å®ŸAIã‚’ä½¿ç”¨
```

**å¤‰æ›´ç®‡æ‰€:**
1. `actions-ai.ts` ã® `USE_MOCK_AI` ã‚’ `false` ã«å¤‰æ›´
2. `.env.local` ã« API ã‚­ãƒ¼ã‚’è¿½åŠ :
   ```
   OPENAI_API_KEY=sk-...
   # ã¾ãŸã¯
   ANTHROPIC_API_KEY=sk-ant-...
   ```
3. `realAIEvaluate()` ã¨ `realAIImprove()` ã‚’å®Ÿè£…

---

## ğŸ“Š ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿

### ãƒšãƒ«ã‚½ãƒŠãƒ‡ãƒƒã‚­

| ãƒ‡ãƒƒã‚­ | äººæ•° | ä¾‹ |
|--------|------|-----|
| Standard_Japan | 10äºº | å­¦ç”Ÿã€ä¼šç¤¾å“¡ã€ä¸»å©¦ã€é«˜é½¢è€… |
| Inbound_Tourist | 10äºº | æ¬§ç±³ã€ã‚¢ã‚¸ã‚¢ã€å¯Œè£•å±¤ |
| Biz_Tech | 10äºº | çµŒå–¶è€…ã€ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã€æŠ•è³‡å®¶ |

### ãƒ¢ãƒƒã‚¯AIã®æŒ™å‹•

- **è©•ä¾¡ã‚¹ã‚³ã‚¢**: 6.0 ~ 9.0ï¼ˆãƒ©ãƒ³ãƒ€ãƒ ï¼‰
- **è³¼å…¥æ„å‘**: ã‚¹ã‚³ã‚¢7.5ä»¥ä¸Šã§ `true`
- **æ”¹å–„ææ¡ˆ**: 4ãƒ‘ã‚¿ãƒ¼ãƒ³ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ é¸æŠ
- **æ”¹å–„æ¡ˆç”Ÿæˆ**: ã‚¿ã‚¤ãƒˆãƒ«ã«ã€Œæ”¹å–„ç‰ˆ vNã€ã‚’è¿½åŠ 

---

## ğŸ¬ ãƒ‡ãƒ¢ã‚·ãƒŠãƒªã‚ª

### ã‚·ãƒŠãƒªã‚ª1: ã‚¹ãƒãƒ›ã‚¢ãƒ—ãƒªã®ã‚¢ã‚¤ãƒ‡ã‚¢

```
ã‚¿ã‚¤ãƒˆãƒ«: å®¶è¨ˆç°¿ã‚¢ãƒ—ãƒª
èª¬æ˜: ãƒ¬ã‚·ãƒ¼ãƒˆã‚’æ’®å½±ã—ã¦è‡ªå‹•è¨˜éŒ²ã™ã‚‹
ãƒ‡ãƒƒã‚­: Standard_Japan
```

**PDCAå®Ÿè¡Œï¼ˆ3å›ï¼‰:**
- v1: ã‚¹ã‚³ã‚¢ 6.5
- v2: ã‚¹ã‚³ã‚¢ 7.8 (+1.3)
- v3: ã‚¹ã‚³ã‚¢ 8.5 (+0.7)

### ã‚·ãƒŠãƒªã‚ª2: è¨ªæ—¥è¦³å…‰ã‚µãƒ¼ãƒ“ã‚¹

```
ã‚¿ã‚¤ãƒˆãƒ«: è¦³å…‰ã‚¬ã‚¤ãƒ‰ãƒãƒƒãƒãƒ³ã‚°
èª¬æ˜: åœ°å…ƒã‚¬ã‚¤ãƒ‰ã¨ãƒãƒƒãƒãƒ³ã‚°ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹
ãƒ‡ãƒƒã‚­: Inbound_Tourist
```

**PDCAå®Ÿè¡Œï¼ˆ5å›ï¼‰:**
- v1 â†’ v5 ã¾ã§æ®µéšçš„ã«æ”¹å–„

---

## ğŸš¨ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚¨ãƒ©ãƒ¼: DATABASE_URL not found

```bash
# .env ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
cat .env

# ãªã‘ã‚Œã°ä½œæˆ
echo "DATABASE_URL=postgresql://user:password@localhost:5432/market_mirror?schema=public" > .env
```

### ã‚¨ãƒ©ãƒ¼: Prisma Client ãŒè¦‹ã¤ã‹ã‚‰ãªã„

```bash
# Prisma Client ã‚’å†ç”Ÿæˆ
npx prisma generate
```

### Next.jsã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ãªã„

```bash
# ä¾å­˜é–¢ä¿‚ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
cd market-mirror
rm -rf node_modules
npm install
npm run dev
```

---

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

1. [DATABASE_DESIGN.md](./DATABASE_DESIGN.md) - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ
2. [TRANSACTION_EXAMPLES.md](./TRANSACTION_EXAMPLES.md) - ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ä¾‹
3. [PDCA_SPECIFICATION.md](./PDCA_SPECIFICATION.md) - PDCAå®Œå…¨ä»•æ§˜

---

## ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### APIã‚­ãƒ¼å–å¾—å¾Œ

1. **OpenAI APIçµ±åˆ**
   ```bash
   npm install openai
   ```
   
2. **actions-ai.ts ã‚’ä¿®æ­£**
   ```typescript
   import OpenAI from 'openai';
   
   const openai = new OpenAI({
     apiKey: process.env.OPENAI_API_KEY,
   });
   
   async function realAIEvaluate(persona, idea) {
     const response = await openai.chat.completions.create({
       model: "gpt-4",
       messages: [
         {
           role: "system",
           content: `ã‚ãªãŸã¯ä»¥ä¸‹ã®ãƒšãƒ«ã‚½ãƒŠã§ã™ï¼š\n${JSON.stringify(persona)}`
         },
         {
           role: "user",
           content: `ã“ã®ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’è©•ä¾¡ã—ã¦ãã ã•ã„ï¼š\n${idea.title}\n${idea.description}`
         }
       ],
       response_format: { type: "json_object" }
     });
     
     return JSON.parse(response.choices[0].message.content);
   }
   ```

3. **USE_MOCK_AI ã‚’ false ã«å¤‰æ›´**

4. **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**

---

## ğŸ’¡ Tips

- **é–‹ç™ºä¸­**: ãƒ¢ãƒƒã‚¯AIã§ UI/UX ã‚’ç¢ºèª
- **ãƒ‡ãƒ¢ç”¨**: ãƒ¢ãƒƒã‚¯AIã®ã¾ã¾ã§ã‚‚PDCAã®å‹•ä½œã¯ç¢ºèªã§ãã‚‹
- **æœ¬ç•ªå‰**: å°‘æ•°ï¼ˆ3å›ï¼‰ã§ãƒ†ã‚¹ãƒˆã—ã¦ã‹ã‚‰å¤§é‡å®Ÿè¡Œ
- **ã‚³ã‚¹ãƒˆç®¡ç†**: APIä½¿ç”¨é‡ã‚’ç›£è¦–

---

ä½œæˆæ—¥: 2025-12-19  
æœ€çµ‚æ›´æ–°: 2025-12-19
